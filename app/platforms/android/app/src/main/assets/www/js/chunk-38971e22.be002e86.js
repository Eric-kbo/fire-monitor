(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38971e22"],{1175:function(t,e,n){},2241:function(t,e,n){"use strict";var o,i=n("c31d"),s=n("2b0e"),a=n("2638"),r=n.n(a),l=n("d282"),c=n("ea8e"),u=n("b1d2"),d=n("6605"),f=n("b650"),h=n("9884"),m=Object(l["a"])("goods-action"),g=m[0],p=m[1],v=g({mixins:[Object(h["b"])("vanGoodsAction")],props:{safeAreaInsetBottom:{type:Boolean,default:!0}},render:function(){var t=arguments[0];return t("div",{class:p({unfit:!this.safeAreaInsetBottom})},[this.slots()])}}),b=n("48f4"),y=Object(l["a"])("goods-action-button"),B=y[0],w=y[1],C=B({mixins:[Object(h["a"])("vanGoodsAction")],props:Object(i["a"])({},b["c"],{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),computed:{isFirst:function(){var t=this.parent&&this.parent.children[this.index-1];return!t||t.$options.name!==this.$options.name},isLast:function(){var t=this.parent&&this.parent.children[this.index+1];return!t||t.$options.name!==this.$options.name}},methods:{onClick:function(t){this.$emit("click",t),Object(b["b"])(this.$router,this)}},render:function(){var t=arguments[0];return t(f["a"],{class:w([{first:this.isFirst,last:this.isLast},this.type]),attrs:{size:"large",type:this.type,icon:this.icon,color:this.color,loading:this.loading,disabled:this.disabled},on:{click:this.onClick}},[this.slots()||this.text])}}),O=Object(l["a"])("dialog"),x=O[0],S=O[1],k=O[2],j=x({mixins:[Object(d["a"])()],props:{title:String,theme:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,overlay:{type:Boolean,default:!0},allowHtml:{type:Boolean,default:!0},transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genRoundButtons:function(){var t=this,e=this.$createElement;return e(v,{class:S("footer")},[this.showCancelButton&&e(C,{attrs:{size:"large",type:"warning",text:this.cancelButtonText||k("cancel"),color:this.cancelButtonColor,loading:this.loading.cancel},class:S("cancel"),on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&e(C,{attrs:{size:"large",type:"danger",text:this.confirmButtonText||k("confirm"),color:this.confirmButtonColor,loading:this.loading.confirm},class:S("confirm"),on:{click:function(){t.handleAction("confirm")}}})])},genButtons:function(){var t,e=this,n=this.$createElement,o=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[u["e"],S("footer")]},[this.showCancelButton&&n(f["a"],{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||k("cancel")},class:S("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&n(f["a"],{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||k("confirm")},class:[S("confirm"),(t={},t[u["c"]]=o,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])},genContent:function(t,e){var n=this.$createElement;if(e)return n("div",{class:S("content")},[e]);var o=this.message,i=this.messageAlign;if(o){var s,a,l={class:S("message",(s={"has-title":t},s[i]=i,s)),domProps:(a={},a[this.allowHtml?"innerHTML":"textContent"]=o,a)};return n("div",{class:S("content",{isolated:!t})},[n("div",r()([{},l]))])}}},render:function(){var t=arguments[0];if(this.shouldRender){var e=this.message,n=this.slots(),o=this.slots("title")||this.title,i=o&&t("div",{class:S("header",{isolated:!e&&!n})},[o]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||e},class:[S([this.theme]),this.className],style:{width:Object(c["a"])(this.width)}},[i,this.genContent(o,n),"round-button"===this.theme?this.genRoundButtons():this.genButtons()])])}}}),$=n("a142");function A(t){return document.body.contains(t)}function F(){o&&o.$destroy(),o=new(s["a"].extend(j))({el:document.createElement("div"),propsData:{lazyRender:!1}}),o.$on("input",(function(t){o.value=t}))}function T(t){return $["g"]?Promise.resolve():new Promise((function(e,n){o&&A(o.$el)||F(),Object(i["a"])(o,T.currentOptions,t,{resolve:e,reject:n})}))}T.defaultOptions={value:!0,title:"",width:"",theme:null,message:"",overlay:!0,className:"",allowHtml:!0,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,callback:function(t){o["confirm"===t?"resolve":"reject"](t)}},T.alert=T,T.confirm=function(t){return T(Object(i["a"])({showCancelButton:!0},t))},T.close=function(){o&&(o.value=!1)},T.setDefaultOptions=function(t){Object(i["a"])(T.currentOptions,t)},T.resetDefaultOptions=function(){T.currentOptions=Object(i["a"])({},T.defaultOptions)},T.resetDefaultOptions(),T.install=function(){s["a"].use(j)},T.Component=j,s["a"].prototype.$dialog=T;e["a"]=T},"2fcb":function(t,e,n){},"4cf9":function(t,e,n){},e17f:function(t,e,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75"),n("e3b3"),n("bc1b"),n("1175"),n("4cf9"),n("2fcb")},e49c:function(t,e,n){"use strict";n.r(e);var o,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{staticStyle:{"background-color":"#3090EC"},scopedSlots:t._u([{key:"title",fn:function(){return[n("span",{staticStyle:{color:"white"}},[t._v("登录")])]},proxy:!0}])}),n("van-form",[n("van-field",{attrs:{name:"账号",label:"账号",placeholder:"账号名",rules:[{required:!0,message:"请填写账号"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{attrs:{type:t.isPassword,name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"},{pattern:/^\w{3,}$/,message:"密码不少于3位"}]},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("span",{staticClass:"iconfont icon-view",staticStyle:{"font-size":"20px"},on:{click:t.onPassword}},[n("van-icon",{attrs:{name:t.isText?"closed-eye":"eye-o",color:"#ee0a24"}})],1)]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.onSubmit}},[t._v(" 登录 ")])],1)],1)],1)},s=[],a=n("ade3"),r=(n("e17f"),n("2241")),l=(n("66b9"),n("b650")),c=(n("be7f"),n("565f")),u=(n("c3a6"),n("ad06")),d=(n("68ef"),n("d282")),f=n("db85"),h=Object(d["a"])("form"),m=h[0],g=h[1],p=m({props:{colon:Boolean,disabled:Boolean,readonly:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{getFieldsByNames:function(t){return t?this.fields.filter((function(e){return-1!==t.indexOf(e.name)})):this.fields},validateSeq:function(t){var e=this;return new Promise((function(n,o){var i=[],s=e.getFieldsByNames(t);s.reduce((function(t,e){return t.then((function(){if(!i.length)return e.validate().then((function(t){t&&i.push(t)}))}))}),Promise.resolve()).then((function(){i.length?o(i):n()}))}))},validateFields:function(t){var e=this;return new Promise((function(n,o){var i=e.getFieldsByNames(t);Promise.all(i.map((function(t){return t.validate()}))).then((function(t){t=t.filter((function(t){return t})),t.length?o(t):n()}))}))},validate:function(t){return t&&!Array.isArray(t)?this.validateField(t):this.validateFirst?this.validateSeq(t):this.validateFields(t)},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}));return e.length?new Promise((function(t,n){e[0].validate().then((function(e){e?n(e):t()}))})):Promise.reject()},resetValidation:function(t){t&&!Array.isArray(t)&&(t=[t]);var e=this.getFieldsByNames(t);e.forEach((function(t){t.resetValidation()}))},scrollToField:function(t,e){this.fields.some((function(n){return n.name===t&&(n.$el.scrollIntoView(e),!0)}))},addField:function(t){this.fields.push(t),Object(f["a"])(this.fields,this)},removeField:function(t){this.fields=this.fields.filter((function(e){return e!==t}))},getValues:function(){return this.fields.reduce((function(t,e){return t[e.name]=e.formValue,t}),{})},onSubmit:function(t){t.preventDefault(),this.submit()},submit:function(){var t=this,e=this.getValues();this.validate().then((function(){t.$emit("submit",e)})).catch((function(n){t.$emit("failed",{values:e,errors:n}),t.scrollToError&&t.scrollToField(n[0].name)}))}},render:function(){var t=arguments[0];return t("form",{class:g(),on:{submit:this.onSubmit}},[this.slots()])}}),v={components:(o={},Object(a["a"])(o,p.name,p),Object(a["a"])(o,u["a"].name,u["a"]),Object(a["a"])(o,c["a"].name,c["a"]),Object(a["a"])(o,l["a"].name,l["a"]),Object(a["a"])(o,r["a"].name,r["a"]),o),data:function(){return{username:"",password:"",isPassword:"password",isText:!0}},methods:{onSubmit:function(){var t=this,e={account:this.username,password:this.password};this.$chntek.login(e.account,e.password).then((function(){window.cordova.plugins.backgroundMode.enable(),localStorage.setItem("loginData",JSON.stringify(e)),t.$router.push({path:"/home"})})).catch((function(t){r["a"].alert({title:"登录失败",message:t}).then((function(){}))}))},onPassword:function(){this.isText=!this.isText,this.isText?this.isPassword="password":this.isPassword="text"}}},b=v,y=n("2877"),B=Object(y["a"])(b,i,s,!1,null,null,null);e["default"]=B.exports}}]);
//# sourceMappingURL=chunk-38971e22.be002e86.js.map