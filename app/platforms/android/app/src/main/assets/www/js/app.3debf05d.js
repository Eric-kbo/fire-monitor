(function(e){function t(t){for(var r,a,o=t[0],i=t[1],s=t[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&d.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);h&&h(t);while(d.length)d.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==c[o]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c={app:0},u=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d2100d6":"83ff9560","chunk-52e61610":"973b8e07","chunk-7568a4fa":"3b8a46cf","chunk-38971e22":"be002e86","chunk-602c4212":"1a344236","chunk-583f1abc":"d4d6c52f","chunk-5f3a28f5":"c452d5a5","chunk-7a230502":"bd2e683a","chunk-6b1f0832":"e1e7dcd0","chunk-d50bb58e":"67288436","chunk-eade5f3e":"f3ca2be3"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-52e61610":1,"chunk-7568a4fa":1,"chunk-38971e22":1,"chunk-602c4212":1,"chunk-583f1abc":1,"chunk-5f3a28f5":1,"chunk-7a230502":1,"chunk-d50bb58e":1,"chunk-eade5f3e":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d2100d6":"31d6cfe0","chunk-52e61610":"06916d9a","chunk-7568a4fa":"dc62537d","chunk-38971e22":"3db63185","chunk-602c4212":"df1488ff","chunk-583f1abc":"1236a78e","chunk-5f3a28f5":"ac01fd08","chunk-7a230502":"7a0e4e0c","chunk-6b1f0832":"31d6cfe0","chunk-d50bb58e":"132b5dfc","chunk-eade5f3e":"8d7cbade"}[e]+".css",c=i.p+r,u=document.getElementsByTagName("link"),o=0;o<u.length;o++){var s=u[o],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===c))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){s=d[o],l=s.getAttribute("data-href");if(l===r||l===c)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||c,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],h.parentNode.removeChild(h),n(u)},h.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=u);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}c[e]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var h=l;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("d82d");var r=n("7278"),a=(n("c3a6"),n("ad06")),c=(n("5246"),n("6b41")),u=(n("a52c"),n("2ed4")),o=(n("537a"),n("ac28")),i=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},l=[],d=(n("034f"),n("2877")),h={},f=Object(d["a"])(h,s,l,!1,null,null,null),p=f.exports,m=(n("4160"),n("d3b7"),n("159b"),n("8c4f"));i["a"].use(m["a"]);var v=[{path:"*",redirect:"/home"},{name:"login",path:"/login",component:function(){return Promise.all([n.e("chunk-7568a4fa"),n.e("chunk-38971e22")]).then(n.bind(null,"e49c"))},meta:{title:"登陆"}},{name:"home",redirect:"/home",component:function(){return n.e("chunk-2d2100d6").then(n.bind(null,"b5f3"))},children:[{name:"home",path:"/home",redirect:"/gmap",component:function(){return Promise.all([n.e("chunk-7568a4fa"),n.e("chunk-602c4212"),n.e("chunk-6b1f0832")]).then(n.bind(null,"5be2"))},meta:{title:"综合显示"}},{name:"history",path:"/history",component:function(){return Promise.all([n.e("chunk-7568a4fa"),n.e("chunk-602c4212"),n.e("chunk-583f1abc"),n.e("chunk-5f3a28f5")]).then(n.bind(null,"49c4"))},meta:{title:"数据中心"}},{name:"gmap",path:"/gmap",component:function(){return n.e("chunk-52e61610").then(n.bind(null,"2ac5"))},meta:{title:"gis模块"}},{name:"tagDetail",path:"/tagDetail",component:function(){return n.e("chunk-eade5f3e").then(n.bind(null,"703c"))},meta:{title:"gis模块"}},{name:"realtime",path:"/realtime",component:function(){return Promise.all([n.e("chunk-7568a4fa"),n.e("chunk-602c4212"),n.e("chunk-583f1abc"),n.e("chunk-7a230502")]).then(n.bind(null,"aa40"))},meta:{title:"实时告警"}},{name:"test",path:"/test",component:function(){return n.e("chunk-d50bb58e").then(n.bind(null,"0351"))},meta:{title:"测试"}}]}];v.forEach((function(e){e.path=e.path||"/"+(e.name||"")}));var b=new m["a"]({routes:v});b.beforeEach((function(e,t,n){var r=e.meta&&e.meta.title;r&&(document.title=r),n()}));n("c975");var k=n("b85c"),g=(n("96cf"),n("1da1")),w=n("bc3a"),y="http://iot.chntek.com:3410",x="http://dungbeetles.xyz:3410";function O(){var e=this;this.timer=null,this.account="",this.token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoidGVzdCIsImV4cCI6MTYxMTUwMDM3NCwiaXNzIjoiSnd0S2V5TmFtZSIsImF1ZCI6Ikp3dEtleU5hbWUifQ.8nnKmig8Ar5uAC5WDZLxJZEl9mEpPsqbN4YrBt-H_UQ",this.warningsLength=0,this.devices={},this.ids=0,this.regions=function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.get("".concat(x,"/devices/regions"),{params:{account:n},headers:{Authorization:e.token}});case 2:if(r=t.sent,a=r.data,!a.val){t.next=6;break}return t.abrupt("return",a.val);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.statusRecent=function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.get("".concat(x,"/devices/status-recent"),{params:{id:n},headers:{Authorization:e.token}});case 2:if(r=t.sent,a=r.data,!a.val){t.next=6;break}return t.abrupt("return",a.val);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.statusHistory=function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(n,r,a,c){var u,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.get("".concat(x,"/devices/status-history"),{params:{id:n,date_begin:r,date_end:a,size:c},headers:{Authorization:e.token}});case 2:if(u=t.sent,o=u.data,!o.val){t.next=6;break}return t.abrupt("return",o.val);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),this.statusPrimary=function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.get("".concat(x,"/devices/primary"),{params:{ids:n},headers:{Authorization:e.token}});case 2:if(r=t.sent,a=r.data,!a.val){t.next=6;break}return t.abrupt("return",a.val);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.login=function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w.get("".concat(y,"/api/user/login"),{params:{account:t,password:n}});case 2:if(r=e.sent,!r.data.err){e.next=5;break}throw r.data.err;case 5:localStorage.setItem("chntek-account",t),localStorage.setItem("chntek-token",r.data.val.token);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.warrigs=function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(n,r,a){var c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.get("".concat(x,"/devices/warnings"),{params:{id:n,date:r,size:a},headers:{Authorization:e.token}});case 2:if(c=t.sent,u=c.data,!u.val){t.next=6;break}return t.abrupt("return",u.val);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),this.transUnitList=Object(g["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c,u,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],r=Object(k["a"])(e.ids),t.prev=2,r.s();case 4:if((a=r.n()).done){t.next=16;break}if(c=a.value,void 0!=e.devices[c]&&null!=e.devices[c].latitude&&null!=e.devices[c].longitude){t.next=8;break}return t.abrupt("continue",14);case 8:return t.next=10,w.get("".concat(x,"/devices/status-recent"),{params:{id:c}});case 10:for(i in u=t.sent,o=u.data,o.val[0])e.devices[c][i]=o.val[0][i];n.push(e.devices[c]);case 14:t.next=4;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](2),r.e(t.t0);case 21:return t.prev=21,r.f(),t.finish(21);case 24:return t.abrupt("return",n);case 25:case"end":return t.stop()}}),t,null,[[2,18,21,24]])})))}document.addEventListener("deviceready",Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=window.cordova.plugins.version.getAppVersion(),e.next=3,w.get("".concat(x,"/app/latest"));case 3:if(n=e.sent,r=n.data,console.log(r.val),console.log(t),!r.err){e.next=9;break}return e.abrupt("return");case 9:if(-1==r.val.indexOf(t+".apk")){e.next=11;break}return e.abrupt("return");case 11:a=encodeURI("http://dungbeetles.xyz/app-debug.apk"),c="cdvfile://localhost/temporary/tuner.apk",u=new window.FileTransfer,u.download(a,c,(function(e){alert("确认并安装新版本更新！"),window.cordova.plugins.fileOpener2.open("cdvfile://localhost/temporary/tuner.apk","application/vnd.android.package-archive")}),(function(e){console.error("download error: "+e.source+e.target+e.code)}));case 15:case"end":return e.stop()}}),e)}))));var j=new O,R=j,I=n("bd0c"),E=n.n(I);i["a"].use(E.a,{ak:"aczIoSxQtHDKl7gLRKWxySCwKOvzXq3u"}),i["a"].use(o["a"]),i["a"].use(u["a"]),i["a"].use(c["a"]),i["a"].use(a["a"]),i["a"].use(r["a"]),i["a"].prototype.$chntek=R,new i["a"]({router:b,el:"#app",render:function(e){return e(p)}}),b.beforeEach((function(e,t,n){var r=localStorage.getItem("chntek-token");r?("/login"==e.path&&n({replace:!0,name:"home"}),n()):"/login"==e.path?n():n({replace:!0,name:"login"})}))},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.3debf05d.js.map