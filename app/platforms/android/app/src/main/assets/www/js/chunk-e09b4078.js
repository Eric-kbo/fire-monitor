(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e09b4078"],{"04d2":function(t,s,e){},"43c4":function(t,s,e){"use strict";e.r(s);var i={name:"alert",data:()=>({timestamp:new Date,warningList:[]}),created(){this.decOneDay()},methods:{async decOneDay(){this.timestamp-=864e5;let t={date:new Date(this.timestamp).toISOString().slice(0,10)};console.log(t),this.getHistory(t)},async getHistory(t){let s=await this.$chntek.transWarningListOfMonths(t.date);this.warningList.push(...s),console.log(this.warningList)},goto(t){this.$router.push({name:"detail",params:t})}}},n=(e("87273"),e("2877")),a=Object(n.a)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"alert"},[e("h4",[t._v("历史告警列表")]),t._l(t.warningList,(function(s,i){return e("li",{key:i,staticClass:"alert-message",on:{click:function(e){return t.goto(s)}}},[e("div",{staticClass:"display-flex"},[t._m(0,!0),e("div",{staticClass:"text-box flex_1"},[e("p",[t._v("设备: "+t._s(s.id))]),e("p",[t._v("地点: "+t._s(0==s.location?"未获取到地点":s.location))]),e("p",[t._v("数量:"+t._s(s.children.length))]),e("p",{staticClass:"text-right time"},[t._v(t._s(s.time))])])])])})),t.warningList.length?e("div",{staticClass:"bottom-box"},[e("md-button",{staticClass:"decOneDay",on:{click:function(s){return t.decOneDay()}}},[t._v("点击查询更多")])],1):t._e()],2)}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"icon-box"},[s("i",{staticClass:"iconfont iconwarn"})])}],!1,null,"25e02b2a",null);s.default=a.exports},87273:function(t,s,e){"use strict";e("04d2")}}]);