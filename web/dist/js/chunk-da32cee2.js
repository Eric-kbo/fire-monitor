(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-da32cee2"],{"110e":function(t,e,s){},"86bf":function(t,e,s){"use strict";s("110e")},bbe2:function(t,e,s){"use strict";s.r(e);var a={name:"alert",data:()=>({date:(new Date).toISOString().slice(0,10),warningList:[],rotate:!1,timer:null,yesterday:!1}),created(){this.getData()},methods:{async getData(){let t=Date.now();this.yesterday&&(t-=864e5);let e=new Date(t).toISOString().slice(0,10);e="2020-12-03",this.warningList=await this.$chntek.transWarningList("2020-12-03")},goto(t){this.$router.push({name:"detail",params:t})},switchDate(){this.yesterday=!this.yesterday,this.getData(),this.rotate=!0,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.rotate=!1},300)}}},i=(s("86bf"),s("2877")),n=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert"},[s("h4",[t._v("告警列表-"+t._s(1==t.yesterday?"历史":"当天"))]),s("ul",t._l(t.warningList,(function(e){return s("li",{key:e.name,staticClass:"alert-message",on:{click:function(s){return t.goto(e)}}},[s("div",{staticClass:"display-flex"},[t._m(0,!0),s("div",{staticClass:"text-box flex_1"},[s("p",[t._v("设备: "+t._s(e.id))]),s("p",[t._v("地点: "+t._s(0==e.location?"未获取到地点":e.location))]),s("p",{staticClass:"text-right time"},[t._v(t._s(e.date_time))])])])])})),0),t.warningList.length?s("p",{staticClass:"text-center bottom-text"},[t._v("没有更多了")]):t._e(),s("md-button",{staticClass:"md-fab md-clean switchDate",class:{"rotate-go":t.rotate}},[s("i",{staticClass:"iconfont icon iconhistory",on:{click:t.switchDate}})])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-box"},[e("i",{staticClass:"iconfont iconjinggao alert-logo"})])}],!1,null,"6a92c793",null);e.default=n.exports}}]);